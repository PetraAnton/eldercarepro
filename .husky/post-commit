#!/bin/sh

# Restore original git config after commit
ORIGINAL_NAME=$(cat /tmp/.git_original_name 2>/dev/null)
ORIGINAL_EMAIL=$(cat /tmp/.git_original_email 2>/dev/null)

if [ -n "$ORIGINAL_NAME" ]; then
    git config user.name "$ORIGINAL_NAME"
else
    git config --unset user.name 2>/dev/null || true
fi

if [ -n "$ORIGINAL_EMAIL" ]; then
    git config user.email "$ORIGINAL_EMAIL"
else
    git config --unset user.email 2>/dev/null || true
fi

# Cleanup temp files
rm -f /tmp/.git_original_name /tmp/.git_original_email
